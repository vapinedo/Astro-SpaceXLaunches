---
    import Layout from "../../layouts/Layout.astro"
    import { getLaunchById, getLatestLaunches } from "../../services/spacex"

    // export const prerender = false 

    const { id } = Astro.params

    let launch

    if (id) {
        launch = await getLaunchById({ id })
    }

    export async function getStaticPaths() {
        const launches = await getLatestLaunches()
        return launches.map((launch) => ({
            params: { id: launch.id}
        }))
    }
---


<Layout title={`Lanzamiento ${id}`}>
    <article>
        {launch?.id}
    </article>
</Layout>